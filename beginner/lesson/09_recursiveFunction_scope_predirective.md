# Mакро тодорхойлох, Хувьсагчийн хамрах хүрээ, Рекурсив функц

## Mакро тодорхойлох
Mакро нь компайлор ажиллаж эхлэхээс өмнө тухайн текстийг харгалзах текстээр орлуулан өөрчлөх дүрэм юм. Макро нь `#define` гэж эхлээд нэрлэж буй текст болон орлуулах текстийг бичиж өгнө. Жишээ: 

```c
//10 удаа 1 гэж хэвлэнэ.
#define ll long long
#define rep(i,a,n) for(int i=a,i<n;i++)
#define print(a) pritnf("%d\n",a)
int main(){
  ll A = 1;
  rep(i,0,10){
    print(A);
  }
  return 0;
}
```

## Хувьсагчийн хамрах хүрээ(scope) ба глобал хувьсагч
Функц дотор, if нөхцөл дотор, давталт дотор ерөнхийдөө { } хаалт дотор зарлагдсан хувьсагчийн хамрах хүрээ тухайн хаалтаар хязгаарлагдана. Програм тухайн хаалт доторх үйлдлүүдийг хийж дуусмагц тухайн хувьсагч чөлөөлөгдөнө. Харин тухайн хаалтын гадна талд зарлагдсан хувьсагчууд дотор талын хаалтаас харагдана. Мөн ямар нэг хувьсагчийг дуудахаас өмнө түүнийг зарласан байх хэрэгтэйг санах хэрэгтэй.
```C
//Дараах жишээ алдаатай. a хувьсагчийг зарлахаас өмнө дуудсан байна.
int main(){
  printf("%d\n",a);
  int a=1; 
  return 0;
}
```
```C
//Дараах жишээ алдаатай. a хувьсагчийн хамрах хүрээ дууссан газраас дуудсан байна. Ийм хувьсагч байхгүй гэж алдаа заана.
int main(){
  {
    int a=1;
    printf("%d\n",a); 
  }
  printf("%d\n",a);
  return 0;
}
```

```C
//Өмнөх жишээтэй адилхан алдаа
int main(){
  if(1)
  {
    int a=1;
    printf("%d\n",a); 
  }
  printf("%d\n",a);
  return 0;
}
```

```C
//i хувьсагч зөвхөн for давталтын хүрээнд хүчинтэй. Тиймд давталтын гадна харагдахгүй.  
int main(){
  for(int i=0; i<10; i++)
  {
     //Do something here
  }
  printf("%d\n",i);
  return 0;
}
```

```C
//Дараах жишээн дээр i хувьсагч түүнийг хэвлэж байгаа командтай нэг хамрах хүрээнд байгаа тул ажиллана.  
int main(){
  int i=0
  for(; i<10; i++)
  {
     //Do something here
  }
  printf("%d\n",i);
  return 0;
}
```
## Глобал хувьсагч
Ямар нэг функц дотор бус шууд зарлагдаж байгаа хувьсагчийг глобал хувьсагч гэдэг. Хувьсагчийг дуудахаас өмнө зарлах хэрэгтэй тул глобал хувьсагчдыг main функцийн өмнө зарлавал тохиромжтой байдаг.  

```C
//Глобал хувьсагч хэрэглэх
int a = 1;
void fun(){
  printf("Global variable is : %d\n",a);
}
int main(){ 
  fun();
  cout<<"Global from main: "<<a<<endl;
  for(int i=0; i<10; i++)
  {
    cout<<a<<endl;
  }
  if(a>0){
    cout<<a<<endl;
  }
  return 0;
}
```

## Рекурсив функц
Өөрөө өөрийгөө дуудаж ажилладаг функцийг рекурсив функц гэдэг. 10 хүртэлх тооны нийлбэрийг рекурсиваар олох жишээг үзүүлэв.
```c
int sum(int k) {
  if(k==0){
    return 0;
  } 
  return k + sum(k - 1);
}
int main() {
  int result = sum(10);
  printf("%d", result); //55
  return 0;
}
```
```c
//Үр дүн нь дараах байдлаар тооцогдоно.
10 + sum(9)
10 + ( 9 + sum(8) )
10 + ( 9 + ( 8 + sum(7) ) )
...
10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1 + sum(0)
10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1 + 0
```

## Дасгал ажлууд ##

<br>1. Хоёр тооны нийлбэрийг тооцох add(a,b) макрог тодорхойлно уу.
<br>2. a тоо b-ийн их утгыг илэрхийлэх max(a,b) макрог тодорхойлно уу.
<br>3. n хүртэлх натурал тоонуудын нийлбэрийг олох функц бичнэ үү.
<br>4. n хүртэлх натурал тоонуудын нийлбэрийг олох рекурсив функц бичнэ үү.
<br>5. a тооны b зэргийг олох рекурсив функц бичнэ үү.
<br>6. n тооны факториалыг олох рекурсив функц бичнэ үү.
<br>7. Фибоначийн цувааны эхний n тоог хэвлэх рекурсив функц бичнэ үү.

```
Фибоначийн цуваа нь 0, 1 гэж эхлээд өмнөх 2 тооны нийлбэртэй тэнцүү 
байдаг цуваа тоонууд юм. 

0, 1, 1, 2, 3, 5, 8, 13, 21, 34, ...

```

<br>8. Хамгийн их ерөнхий хуваагчийг Евклидийн алгоритмаар бодох рекурсив функц бичиж шалгана уу. 

```
*Евклидийн алгоритм гэдэг нь 2 натурал тооны хамгийн их ерөнхий хуваагчийг олох аргуудын нэг юм. 2 бодит тоо a, b-гийн хувьд a-г b-д хуваахад гарах үлдэгдлийг r гэвэл a ба b-гийн хамгийн их ерөнхий хуваагч нь b ба r-ийн хамгийн их ерөнхий хуваагчтай тэнцүү байдаг.*
```


